$(document).foundation(), $(document).ready(function () {
  641 <= window.innerWidth && ($("ul#top-nav-list > li").find(".m-menu").hide(), $("ul#top-nav-list > li").hover(function () {
    $(this).siblings().find(".m-menu").hide(), $(this).find(".m-menu").toggle();
  }));
  $("li.has-dropdown > a[href$=\"#\"]").click(function (a) {
    a.preventDefault();
  }), $(window).scroll(function () {
    100 < $(this).scrollTop() ? $("#scrollToTop").fadeIn() : $("#scrollToTop").fadeOut();
  }), $("#scrollToTop").click(function () {
    return $("html, body").animate({
      scrollTop: 0
    }, 800), !1;
  }), $(".home#services .row div.service-item:last-of-type").addClass("end"), $("#home-city-list-wrap").click(function () {
    $(this).css("pointer-events", "none"), $("#home-city-list").css("pointer-events", "visible");
  }), $("a.lightbox_caption").colorbox({
    title: function () {
      return "" == $(this).attr("title") ? "" : "<div class=\"lightbox_caption_span\">" + $(this).attr("title") + "</div>";
    },
    opacity: "0.6"
  }), $("a.lightbox").colorbox({
    title: "<span style=\"display:none;\"></span>",
    opacity: "0.6",
    scalePhotos: !0,
    width: "90%",
    maxWidth: "800px"
  }), $("a.colorlink").colorbox({
    inline: !0,
    opacity: "0.6"
  }), $("#carousel").tabs(), $(".mag").append("<span></span>"), $(".arrow-button").append("<span></span>");
});

function nextTab() {
  return currentTab = $("#carousel").tabs("option", "selected"), numTabs = $("#carousel > ul > li").size(), newTab = currentTab + 1, newTab == numTabs && (newTab = 0), $("#carousel").tabs("select", newTab), !1;
}

function prevTab() {
  return currentTab = $("#carousel").tabs("option", "selected"), numTabs = $("#carousel > ul > li").size(), newTab = 1 > currentTab ? numTabs - 1 : currentTab - 1, $("#carousel").tabs("select", newTab), !1;
}

$("p.today:contains(\":\")").html(function () {
  return $(this).html().replace("Today's Hours: ", "<span>Today's Hours: </span>");
}), $("p.today:contains(\"open\")").html(function () {
  return $(this).html().replace("We're open ", "<span>We're open</span>");
}), $("div.open-hours").css("width", "auto");
const topLevelLinks = document.querySelectorAll(".has-dropdown > a");
topLevelLinks.forEach(a => {
  if (a.nextElementSibling) {
    a.addEventListener("focus", function () {
      this.parentElement.classList.add("focus");
    });
    const b = a.nextElementSibling,
          c = b.querySelectorAll(".m-menu-ul a"),
          d = c.length - 1,
          e = c[d];
    e.addEventListener("blur", function () {
      a.parentElement.classList.remove("focus");
    });
  }
});